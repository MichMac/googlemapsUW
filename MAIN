#!/usr/bin/env python3

import os
api_key = 'AIzaSyAezmqxQYAQXzVQnZPitum5lw6xZPG9HAo' #Klucz api umożliwiający prace z googlemaps API.
import googlemaps
import matplotlib.pyplot as plt
from scipy.misc import imread
gmaps = googlemaps.Client(key=api_key) #Za każdym wywołaniem funkcji z biblioteki googlemaps'a potrzebny jest klucz api.

class MainNode:
	index = 1
	lat = 51.1163217
	lng = 17.02805
	
mainnode = MainNode()

class Node():
	distance = 0
	time = 0
	def __init__(self,lat,lng):
		self.lat = lat
		self.lng = lng
		
	
		
	def GetTime(self,mmainnode):
		
		distance1 = gmaps.distance_matrix([(self.lat,self.lng)],[(mmainnode.lat,mmainnode.lng)],mode="transit")
		if 'duration' in distance1['rows'][0]['elements'][0]:
			distance2 = distance1['rows'][0]['elements'][0]['duration']['value']/60
			self.time = distance2
			return distance2
		else:
			pass
		
def Lattice(lng_min,lng_max,lat_min,lat_max): # funkcja odpowiadająca za tworzenie punktów
	nodes=[]
	for i in range(0,30):
		row =[]
		for j in range(0,30):
			lat = lat_min + i*(lat_max - lat_min)/30
			lng = lng_min + j*(lng_max - lng_min)/30
			row.append(Node(lat,lng))
		nodes.append(row)
	return nodes


	
#nodes = Lattice(16.932804,17.123005,51.075253,51.168345)

#for i in range(0,30):
#	for j in range(0,30):
#		nodes[i][j].GetTime(mainnode)
#		print(str(i)+" "+str(j)+" "+str(nodes[i][j].time))




nodes_lat=[]
nodes_lng=[]
def ListOfNodes(lng_min,lng_max,lat_min,lat_max):

	for i in range(0,30):
		rowx =[]
		rowy =[]
		for j in range(0,30):
			lat = lat_min + i*(lat_max - lat_min)/30
			lng = lng_min + j*(lng_max - lng_min)/30
			rowx.append(lng)
			rowy.append(lat)
			
		nodes_lat.append(rowy)
		nodes_lng.append(rowx)
	return nodes_lat,nodes_lng

ListOfNodes(16.932804,17.123005,51.075253,51.168345)

x = []
y = []
c = []
for i in range(0,30):
	for j in range(0,30):
		x.append(nodes_lng[i][j])
		y.append(nodes_lat[i][j])
#		c.append(nodes[i][j].time)
		
		
print(x)
print(y)
print(c)


colormap="plasma"

x_data=[x]

y_data=[y]
c_data_backup = [67.16666666666667, 68.5, 60.45, 47.81666666666667, 57.833333333333336, 49.25, 49.233333333333334, 44.3, 40.3, 49.8, 44.8, 36.65, 33.63333333333333, 33.13333333333333, 33.71666666666667, 41.0, 31.333333333333332, 36.96666666666667, 38.266666666666666, 35.0, 42.1, 43.35, 46.333333333333336, 43.333333333333336, 38.083333333333336, 45.733333333333334, 45.43333333333333, 58.7, 54.06666666666667, 42.85, 63.18333333333333, 59.266666666666666, 58.766666666666666, 57.85, 49.85, 45.38333333333333, 49.28333333333333, 43.95, 37.75, 37.61666666666667, 42.78333333333333, 38.56666666666667, 32.18333333333333, 31.033333333333335, 33.583333333333336, 36.333333333333336, 26.366666666666667, 31.35, 35.03333333333333, 34.88333333333333, 45.03333333333333, 40.81666666666667, 41.21666666666667, 40.166666666666664, 37.28333333333333, 41.1, 55.8, 57.85, 57.68333333333333, 62.65, 65.95, 68.45, 60.666666666666664, 51.483333333333334, 53.833333333333336, 44.1, 46.36666666666667, 42.666666666666664, 49.75, 43.71666666666667, 41.666666666666664, 38.6, 31.9, 31.483333333333334, 29.716666666666665, 31.35, 31.05, 41.18333333333333, 36.0, 35.06666666666667, 41.75, 40.95, 45.68333333333333, 35.2, 42.083333333333336, 46.88333333333333, 54.81666666666667, 59.53333333333333, 59.4, 62.65, 70.68333333333334, 58.333333333333336, 55.43333333333333, 49.6, 51.61666666666667, 43.61666666666667, 37.03333333333333, 40.983333333333334, 42.75, 40.583333333333336, 41.56666666666667, 38.31666666666667, 30.016666666666666, 32.56666666666667, 31.016666666666666, 30.433333333333334, 25.566666666666666, 30.566666666666666, 33.05, 37.56666666666667, 36.93333333333333, 41.483333333333334, 35.6, 39.15, 45.13333333333333, 53.53333333333333, 55.083333333333336, 57.3, 70.73333333333333, 70.73333333333333, 58.81666666666667, 64.08333333333333, 48.43333333333333, 47.25, 51.416666666666664, 44.35, 39.0, 37.55, 37.583333333333336, 37.75, 37.483333333333334, 32.266666666666666, 26.75, 27.2, 33.083333333333336, 27.25, 25.05, 29.45, 33.18333333333333, 35.11666666666667, 44.25, 35.1, 38.1, 43.11666666666667, 55.78333333333333, 54.1, 54.516666666666666, 53.21666666666667, 51.25, 70.73333333333333, 54.483333333333334, 55.6, 53.733333333333334, 49.45, 48.8, 42.0, 40.35, 31.75, 32.666666666666664, 34.233333333333334, 32.06666666666667, 32.2, 22.966666666666665, 25.466666666666665, 28.65, 28.45, 24.733333333333334, 29.766666666666666, 33.6, 38.1, 34.05, 34.75, 40.21666666666667, 43.766666666666666, 56.65, 48.833333333333336, 49.5, 52.86666666666667, 51.25, 56.71666666666667, 51.266666666666666, 49.93333333333333, 45.9, 49.15, 46.233333333333334, 44.916666666666664, 37.1, 28.066666666666666, 28.133333333333333, 29.916666666666668, 35.03333333333333, 27.716666666666665, 23.783333333333335, 22.766666666666666, 23.733333333333334, 25.766666666666666, 24.55, 28.666666666666668, 30.583333333333332, 33.0, 31.683333333333334, 36.86666666666667, 44.21666666666667, 49.5, 55.75, 55.36666666666667, 52.25, 50.88333333333333, 51.233333333333334, 56.583333333333336, 48.36666666666667, 47.28333333333333, 44.3, 43.2, 42.45, 41.63333333333333, 46.81666666666667, 31.15, 27.6, 24.866666666666667, 23.116666666666667, 23.733333333333334, 22.85, 17.283333333333335, 23.7, 27.65, 22.166666666666668, 25.266666666666666, 24.933333333333334, 33.21666666666667, 31.933333333333334, 35.05, 40.38333333333333, 57.15, 55.45, 50.06666666666667, 49.2, 48.61666666666667, 49.36666666666667, 56.43333333333333, 50.05, 41.483333333333334, 38.93333333333333, 40.2, 49.916666666666664, 46.733333333333334, 44.833333333333336, 36.88333333333333, 35.333333333333336, 28.766666666666666, 24.583333333333332, 21.683333333333334, 22.016666666666666, 22.4, 17.8, 20.016666666666666, 20.266666666666666, 22.75, 24.9, 30.0, 42.95, 37.833333333333336, 50.38333333333333, 44.81666666666667, 44.18333333333333, 39.016666666666666, 45.0, 44.1, 39.71666666666667, 49.31666666666667, 61.46666666666667, 37.6, 32.36666666666667, 38.483333333333334, 45.2, 43.21666666666667, 43.016666666666666, 42.11666666666667, 35.53333333333333, 39.1, 29.266666666666666, 26.316666666666666, 23.066666666666666, 20.216666666666665, 18.933333333333334, 19.466666666666665, 19.55, 25.316666666666666, 25.933333333333334, 32.13333333333333, 38.05, 38.86666666666667, 35.6, 38.36666666666667, 37.983333333333334, 37.38333333333333, 38.63333333333333, 38.78333333333333, 39.55, 43.75, 48.916666666666664, 48.03333333333333, 36.06666666666667, 36.15, 38.21666666666667, 37.3, 37.36666666666667, 44.61666666666667, 38.88333333333333, 31.1, 34.3, 29.683333333333334, 24.25, 18.133333333333333, 11.2, 16.766666666666666, 14.0, 22.816666666666666, 27.566666666666666, 30.716666666666665, 29.916666666666668, 36.86666666666667, 37.53333333333333, 35.983333333333334, 37.666666666666664, 36.88333333333333, 38.3, 39.06666666666667, 49.5, 47.7, 45.45, 42.6, 38.8, 33.45, 32.483333333333334, 34.11666666666667, 33.766666666666666, 29.766666666666666, 53.96666666666667, 26.233333333333334, 37.45, 24.716666666666665, 23.433333333333334, 18.583333333333332, 14.583333333333334, 11.6, 13.333333333333334, 18.316666666666666, 21.0, 21.816666666666666, 21.733333333333334, 22.45, 37.13333333333333, 39.85, 39.4, 36.516666666666666, 38.15, 40.61666666666667, 41.15, 47.81666666666667, 52.15, 47.233333333333334, 43.483333333333334, 31.983333333333334, 29.0, 28.25, 29.3, 27.35, 35.95, 22.6, 22.383333333333333, 21.816666666666666, 17.383333333333333, 16.266666666666666, 14.083333333333334, 10.383333333333333, 12.4, 15.966666666666667, 18.3, 17.016666666666666, 18.2, 22.1, 32.7, 34.81666666666667, 37.983333333333334, 32.333333333333336, 33.78333333333333, 35.36666666666667, 39.13333333333333, 40.35, 50.28333333333333, 49.333333333333336, 41.93333333333333, 36.46666666666667, 31.816666666666666, 29.316666666666666, 26.383333333333333, 25.216666666666665, 38.083333333333336, 0, 26.716666666666665, 20.7, 20.133333333333333, 16.766666666666666, 9.083333333333334, 1.1, 9.333333333333334, 13.2, 17.383333333333333, 16.983333333333334, 24.083333333333332, 26.3, 27.716666666666665, 33.1, 34.333333333333336, 37.21666666666667, 35.083333333333336, 37.28333333333333, 41.13333333333333, 40.28333333333333, 58.166666666666664, 41.18333333333333, 35.93333333333333, 34.71666666666667, 36.7, 32.53333333333333, 28.866666666666667, 29.7, 33.2, 29.766666666666666, 25.833333333333332, 24.8, 18.783333333333335, 10.766666666666667, 12.216666666666667, 4.633333333333334, 9.566666666666666, 12.183333333333334, 17.283333333333335, 21.683333333333334, 25.766666666666666, 38.63333333333333, 34.766666666666666, 33.68333333333333, 35.71666666666667, 34.916666666666664, 39.03333333333333, 46.18333333333333, 38.88333333333333, 40.68333333333333, 42.46666666666667, 43.016666666666666, 40.53333333333333, 35.35, 29.05, 26.383333333333333, 24.733333333333334, 23.683333333333334, 24.416666666666668, 26.616666666666667, 20.883333333333333, 22.633333333333333, 17.216666666666665, 16.05, 13.2, 9.416666666666666, 12.2, 17.333333333333332, 17.333333333333332, 18.35, 25.75, 37.55, 37.766666666666666, 34.4, 38.13333333333333, 41.916666666666664, 44.483333333333334, 46.45, 43.05, 43.2, 44.46666666666667, 50.46666666666667, 38.18333333333333, 31.383333333333333, 28.766666666666666, 29.183333333333334, 28.65, 25.016666666666666, 18.616666666666667, 20.6, 22.95, 14.733333333333333, 15.8, 17.166666666666668, 17.733333333333334, 11.8, 10.55, 16.316666666666666, 17.866666666666667, 21.733333333333334, 27.483333333333334, 42.68333333333333, 38.3, 33.45, 37.083333333333336, 41.4, 45.45, 35.65, 35.88333333333333, 51.88333333333333, 50.416666666666664, 41.4, 36.55, 32.333333333333336, 30.916666666666668, 34.483333333333334, 33.25, 25.033333333333335, 23.0, 16.2, 21.866666666666667, 16.6, 21.55, 21.566666666666666, 16.783333333333335, 11.983333333333333, 16.316666666666666, 17.166666666666668, 19.05, 19.616666666666667, 24.533333333333335, 40.8, 35.483333333333334, 28.783333333333335, 33.916666666666664, 32.45, 28.816666666666666, 37.95, 45.7, 45.31666666666667, 54.88333333333333, 50.7, 35.56666666666667, 31.35, 32.15, 37.28333333333333, 26.6, 25.016666666666666, 22.966666666666665, 23.416666666666668, 21.933333333333334, 20.75, 25.166666666666668, 23.316666666666666, 19.7, 15.883333333333333, 18.816666666666666, 18.6, 23.466666666666665, 27.516666666666666, 24.8, 21.116666666666667, 24.0, 25.95, 29.3, 29.383333333333333, 28.133333333333333, 32.13333333333333, 43.75, 44.65, 64.9, 40.06666666666667, 38.31666666666667, 33.65, 34.233333333333334, 38.68333333333333, 24.966666666666665, 24.533333333333335, 26.75, 25.75, 30.0, 22.133333333333333, 21.45, 17.666666666666668, 16.366666666666667, 14.266666666666667, 17.566666666666666, 24.033333333333335, 25.466666666666665, 27.05, 25.383333333333333, 26.0, 28.733333333333334, 29.55, 31.45, 31.983333333333334, 35.78333333333333, 42.666666666666664, 39.483333333333334, 45.2, 70.4, 37.916666666666664, 33.766666666666666, 37.96666666666667, 33.63333333333333, 36.7, 28.483333333333334, 24.3, 27.883333333333333, 30.983333333333334, 19.9, 22.45, 20.966666666666665, 22.65, 19.266666666666666, 16.3, 19.716666666666665, 20.333333333333332, 19.666666666666668, 21.116666666666667, 24.133333333333333, 28.416666666666668, 26.633333333333333, 30.75, 38.666666666666664, 36.78333333333333, 36.6, 41.38333333333333, 44.75, 50.766666666666666, 59.25, 36.56666666666667, 35.88333333333333, 35.61666666666667, 31.833333333333332, 31.2, 28.6, 26.766666666666666, 28.6, 24.2, 25.383333333333333, 27.4, 24.366666666666667, 24.716666666666665, 17.4, 21.6, 21.45, 24.033333333333335, 25.233333333333334, 23.866666666666667, 27.216666666666665, 30.933333333333334, 33.31666666666667, 27.9, 26.933333333333334, 33.06666666666667, 47.95, 45.416666666666664, 39.4, 45.06666666666667, 64.08333333333333, 39.416666666666664, 36.03333333333333, 32.9, 36.516666666666666, 34.083333333333336, 36.63333333333333, 31.45, 35.916666666666664, 29.766666666666666, 28.483333333333334, 31.8, 29.15, 31.183333333333334, 24.366666666666667, 20.933333333333334, 23.5, 22.85, 29.65, 29.6, 32.46666666666667, 35.483333333333334, 35.36666666666667, 27.9, 23.566666666666666, 27.966666666666665, 47.06666666666667, 35.3, 34.93333333333333, 39.166666666666664, 38.15, 35.516666666666666, 36.25, 34.766666666666666, 48.43333333333333, 40.083333333333336, 41.4, 39.36666666666667, 33.81666666666667, 33.416666666666664, 32.55, 35.55, 39.35, 27.0, 25.466666666666665, 21.3, 24.4, 31.916666666666668, 31.516666666666666, 35.9, 38.63333333333333, 34.31666666666667, 37.833333333333336, 42.7, 48.63333333333333, 49.13333333333333, 48.65, 55.05, 34.88333333333333, 36.483333333333334, 41.416666666666664, 37.65, 35.96666666666667, 41.166666666666664, 40.75, 43.78333333333333, 43.733333333333334, 43.3, 34.516666666666666, 38.55, 36.9, 40.05, 35.5, 24.766666666666666, 21.4, 19.366666666666667, 23.0, 29.733333333333334, 31.0, 38.75, 42.166666666666664, 43.483333333333334, 40.266666666666666, 45.733333333333334, 50.65, 56.28333333333333, 53.93333333333333, 48.13333333333333, 42.5, 43.266666666666666, 39.45, 36.233333333333334, 36.983333333333334, 40.733333333333334, 48.333333333333336, 47.11666666666667, 47.266666666666666, 46.85, 42.36666666666667, 49.55, 35.6, 35.31666666666667, 35.516666666666666, 27.166666666666668, 25.75, 24.183333333333334, 27.416666666666668, 33.45, 33.666666666666664, 42.166666666666664, 43.18333333333333, 44.583333333333336, 41.78333333333333, 44.7, 51.1, 65.23333333333333, 54.46666666666667, 48.78333333333333, 43.0, 37.65, 39.666666666666664, 36.46666666666667, 45.53333333333333, 41.0, 51.4, 48.56666666666667, 50.68333333333333, 50.766666666666666, 50.93333333333333, 50.983333333333334, 41.1, 44.65, 34.95, 35.56666666666667, 35.65, 27.216666666666665, 33.65, 33.71666666666667, 33.13333333333333, 52.916666666666664, 44.56666666666667, 40.96666666666667, 55.666666666666664, 47.93333333333333, 76.0, 60.68333333333333, 55.71666666666667, 53.55, 44.45, 40.46666666666667, 37.6, 40.81666666666667, 47.63333333333333, 49.733333333333334, 48.9, 47.13333333333333, 49.93333333333333, 54.416666666666664, 49.56666666666667, 48.016666666666666, 54.11666666666667, 47.666666666666664, 33.4, 47.9, 39.416666666666664, 32.516666666666666, 38.1, 33.71666666666667, 32.13333333333333, 48.166666666666664, 53.333333333333336, 52.8, 65.48333333333333, 52.016666666666666, 61.61666666666667, 57.28333333333333, 56.28333333333333, 55.86666666666667, 48.46666666666667, 48.85, 46.5, 47.266666666666666, 47.03333333333333, 54.7, 49.06666666666667, 40.75, 41.56666666666667, 43.85, 50.06666666666667, 56.083333333333336, 53.95, 33.65, 36.81666666666667, 45.5, 44.11666666666667, 34.983333333333334, 42.21666666666667, 49.81666666666667, 32.3, 37.833333333333336, 51.88333333333333, 51.28333333333333, 61.45, 57.68333333333333, 68.08333333333333, 62.166666666666664, 60.916666666666664, 57.266666666666666, 50.65, 42.15, 48.78333333333333, 50.71666666666667, 58.5, 52.86666666666667, 48.93333333333333, 39.016666666666666, 37.766666666666666, 43.8, 52.5, 60.016666666666666, 61.68333333333333, 36.2, 41.25, 49.5, 42.63333333333333, 34.2, 41.1, 46.166666666666664, 35.2, 51.9, 55.86666666666667, 75.73333333333333, 61.11666666666667, 61.13333333333333, 70.66666666666667, 70.65, 56.733333333333334, 52.78333333333333, 49.96666666666667, 48.18333333333333]
c_data=[c]
img = imread("staticmap.png")
fig = plt.figure()
fig.set_facecolor('white')
ax = fig.add_subplot(1,1,1)
plt.imshow(img,zorder=0,extent=[16.932804,17.123005,51.075253,51.168345])
plt.xlim(16.932804,17.123005)
plt.ylim(51.075253,51.168345)
p1 = ax.scatter(x_data, y_data, c=c_data_backup, s=50, cmap=colormap, edgecolor='none', alpha=0.9,zorder=1)

ax.grid(True)

fig.colorbar(p1)
plt.show()









		
		

	

